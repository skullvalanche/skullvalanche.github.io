{% extends "base.html" %}

{% block content %}
<h1 class="title">
  {{ page.title }}
</h1>
<p class="subtitle"><strong>{{ page.date }}</strong></p>
{{ page.content | safe }}
<button role="button" onclick="window.location.href='..';">back</button>
<script src="https://giscus.app/client.js"
        data-repo="skullvalanche/skullvalanche.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnk4Njk0ODQyOA=="
        data-category="General"
        data-category-id="DIC_kwDOBS66TM4CmAP0"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="{{ get_url(path='giscus.css') }}"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
   
  function changeGiscusTheme () {
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ?  'dark' : 'light'

    function sendMessage(message) {
      const iframe = document.querySelector('iframe.giscus-frame');
      if (!iframe) return;
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    }

    sendMessage({
      setConfig: {
        theme: theme
      }
    });
  }
</script>
<script>
  changeGiscusTheme();
</script>
{% endblock content %}
